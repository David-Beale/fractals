(this.webpackJsonpmandelbrot=this.webpackJsonpmandelbrot||[]).push([[0],{108:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t.n(r),o=t(17),i=t.n(o),a=(t(94),t(12)),u=(t(95),t(43)),l=function(n,e,t){var c=Object(r.useRef)(!1),o=Object(r.useRef)([]),i=Object(r.useRef)([]),a=Object(r.useRef)(0),l=Object(r.useRef)(0),s=Object(r.useRef)(3);return Object(u.b)((function(){a.current&&(!function(){var n=0===l.current?-1:1;s.current=e.current,e.current+=.03*e.current*n,e.current<2e-5?e.current=2e-5:e.current>3&&(e.current=3)}(),function(){var t=i.current[0]/window.innerWidth-.5,r=.5-i.current[1]/window.innerHeight,c=s.current-e.current;n.current[0]+=t*c,n.current[1]+=r*c}(),t.current.uniforms.scale.value=e.current,a.current--),c.current&&function(){var t=(o.current[0]-i.current[0])/window.innerWidth,r=(i.current[1]-o.current[1])/window.innerHeight;n.current[0]+=t*e.current,n.current[1]+=r*e.current,o.current=i.current}()}),[]),[function(n){c.current=!0,o.current=[n.clientX,n.clientY],i.current=[n.clientX,n.clientY]},function(){c.current=!1},function(n){!1!==c.current&&(i.current=[n.clientX,n.clientY])},function(n){i.current=[n.clientX,n.clientY],a.current=10,n.deltaY<0?l.current=0:l.current=2}]},s=t(9);function f(n){var e=n.fractal,t=n.color,c=Object(r.useRef)(),o=Object(r.useRef)(0),i=Object(r.useRef)(3),f=Object(r.useRef)([-.3,0]),b=Object(r.useMemo)((function(){return{mouse:{value:[0,0]},resolution:{value:[window.innerWidth,window.innerHeight]},ratio:{value:window.innerWidth/window.innerHeight},center:{value:f.current},scale:{value:i.current},counter:{value:o.current},fractal:{value:[2,2]},color:{value:[0,0,0]}}}),[]),j=function(n){var e=Object(r.useState)([window.innerWidth,window.innerHeight]),t=Object(a.a)(e,2),c=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(){o([window.innerWidth,window.innerHeight]),n.current.uniforms.ratio.value=window.innerWidth/window.innerHeight,n.current.uniforms.resolution.value=[window.innerWidth,window.innerHeight]};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[n]),c}(c),d=l(f,i,c),x=Object(a.a)(d,4),O=x[0],h=x[1],m=x[2],v=x[3];return function(n,e){var t=Object(r.useRef)(1);Object(u.b)((function(){n.current>6?t.current=-1:n.current<-6&&(t.current=1),n.current+=.01*t.current,e.current.uniforms.counter.value=n.current}),[])}(o,c),function(n,e,t,c){Object(r.useEffect)((function(){n[0]<2&&(e.current.uniforms.fractal.value=n,e.current.uniforms.scale.value=3,t.current[0]=0,t.current[1]=0,c.current=3)}),[t,n,c,e])}(e,c,f,i),function(n,e){Object(r.useEffect)((function(){n.current.uniforms.color.value=e}),[e,n])}(c,t),Object(s.jsxs)("mesh",{onPointerDown:O,onPointerUp:h,onPointerMove:m,onWheel:v,children:[Object(s.jsx)("planeBufferGeometry",{args:j}),Object(s.jsx)("shaderMaterial",{ref:c,uniforms:b,vertexShader:"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\nprecision highp float;\n\nuniform vec2 resolution;\nuniform float ratio;\nuniform vec2 center;\nuniform float scale;\nuniform float counter;\nuniform vec2 fractal;\nuniform vec3 color;\n\n\nvoid main() {\n  float maxN = 250.0;\n  float a = ratio  * ((gl_FragCoord.x / resolution.x - 0.5) * scale + center.x);\n  float b = (gl_FragCoord.y / resolution.y - 0.5) * scale + center.y;\n\n  float ca = a;\n  float cb = b;\n  if(fractal.x < 1.0) ca = fractal.x;\n  if(fractal.y < 1.0) cb = fractal.y;\n  float a2 = 0.0;\n  float b2 = 0.0;\n\n  float n = 0.0;\n  for (; n < maxN; n++){\n    a2 = a * a;\n    b2 = b * b;\n    \n    b = (a + a) * b + cb;\n    a = a2 - b2 + ca;\n    if(a2 + b2 > 4.0){\n      break;\n    }\n  }\n\n  float brightness;\n  if(n == maxN) {\n    brightness = -0.1;\n  }\n  else {\n    vec2 z = vec2(a,b);\n    float sl = n - log2(log2(dot(z,z)));\n\n    float al = 2.0 + 5.0 * cos(counter);\n    brightness = counter/10.0 * mix( n, sl, al );\n\n  } \n  vec3 col= vec3(0.0);\n  col += 0.5 + 0.6*cos( 2.7 + brightness + color);\n\n  gl_FragColor = vec4(col, 1.0);\n    }\n"})]})}var b,j,d=t(37),x=t(38),O=t(135),h=x.a.div(b||(b=Object(d.a)(["\n  z-index: 1;\n  width: 120px;\n  position: fixed;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),m=Object(x.a)(O.a)(j||(j=Object(d.a)(["\n  box-shadow: ",";\n  color: black !important;\n  background-color: white !important;\n  margin: 5px 15px !important;\n"])),(function(n){return n.enabled?"inset -4px -4px 8px rgba(255, 255, 255, 0.6), inset 8px 8px 16px rgba(0, 0, 0, 0.2)":"-6px -6px 10px rgba(255, 255, 255, 0.3), 6px 6px 10px rgba(0, 0, 0, 0.3)"})),v=t(136),w=t(83),p=t.n(w);function g(n){var e=n.onClick;return Object(s.jsx)(v.a,{title:"Random fractal",children:Object(s.jsx)(m,{onClick:e,children:Object(s.jsx)(p.a,{fontSize:"large"})})})}var R=t(84),C=t.n(R);function y(n){var e=n.onClick;return Object(s.jsx)(v.a,{title:"Random colours",children:Object(s.jsx)(m,{onClick:e,children:Object(s.jsx)(C.a,{fontSize:"large"})})})}function k(n){var e=n.onRandomFractal,t=n.onRandomColor;return Object(s.jsxs)(h,{children:[Object(s.jsx)(g,{onClick:e}),Object(s.jsx)(y,{onClick:t})]})}var M,z,S,W=t(13),H=t(7),E=t(133),F=t(134),X=t(85),Y=t.n(X),N=t(86),P=t.n(N),_=x.a.div(M||(M=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 35px;\n  font-size: 1.2rem;\n  color: slategray;\n  font-weight: 700;\n"]))),L=x.a.div(z||(z=Object(d.a)(["\n  display: flex;\n  width: 290px;\n  margin: 20px 0px;\n"]))),B=x.a.div(S||(S=Object(d.a)(["\n  margin-right: 30px;\n"]))),J=Object(r.forwardRef)((function(n,e){return Object(s.jsx)(E.a,Object(H.a)({ref:e},n))}));function V(){var n=Object(r.useState)(!0),e=Object(a.a)(n,2),t=e[0],c=e[1],o=function(){return c(!1)};return Object(s.jsx)(F.a,{onClick:o,onClose:o,open:t,TransitionComponent:J,children:Object(s.jsxs)(_,{children:[Object(s.jsxs)(L,{children:[Object(s.jsx)(B,{children:Object(s.jsx)(Y.a,{})}),"Scroll to zoom in/out"]}),Object(s.jsxs)(L,{children:[Object(s.jsx)(B,{children:Object(s.jsx)(P.a,{})}),"Click and drag to explore"]})]})})}function A(){var n=Object(r.useState)([2,2]),e=Object(a.a)(n,2),t=e[0],c=e[1],o=Object(r.useState)([.99,.05,.65]),i=Object(a.a)(o,2),l=i[0],b=i[1];return Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(V,{}),Object(s.jsx)(k,{onRandomFractal:function(){var n=2*Math.random()-1,e=2*Math.random()-1;c([n,e])},onRandomColor:function(){var n=Math.random(),e=Math.random(),t=Math.random(),r=new W.Vector3(n,e,t);r.setLength(1.2),b(r.toArray())}}),Object(s.jsx)(u.a,{orthographic:!0,camera:{position:[0,0,0],near:0,far:10},children:Object(s.jsx)(f,{fractal:t,color:l})})]})}i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(A,{})}),document.getElementById("root"))},94:function(n,e,t){},95:function(n,e,t){}},[[108,1,2]]]);
//# sourceMappingURL=main.78ddd981.chunk.js.map